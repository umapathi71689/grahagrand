{"version":3,"file":"static/js/766.a41ce574.chunk.js","mappings":"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","sources":["components/pages/Admin/Api.jsx","components/pages/Admin/UpcomingProperties/List.jsx"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000/api';\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  timeout: 10000,\r\n});\r\n\r\n// Request interceptor\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      localStorage.removeItem('token');\r\n      window.location.href = '/login';\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nconst ApiService = {\r\n  // Authentication\r\n  auth: {\r\n    login: (credentials) => api.post('/auth/login/', credentials),\r\n    register: (userData) => api.post('/auth/register/', userData),\r\n    refreshToken: (refreshToken) => api.post('/auth/refresh/', { refresh: refreshToken }),\r\n    logout: () => api.post('/auth/logout/'),\r\n    getMe: () => api.get('/auth/me/'),\r\n  },\r\n\r\n  // Properties\r\n  properties: {\r\n    getAll: (params = {}) => api.get('/properties/', { params }),\r\n    getById: (id) => api.get(`/properties/${id}/`),\r\n    create: (propertyData) => api.post('/properties/', propertyData),\r\n    update: (id, propertyData) => api.patch(`/properties/${id}/`, propertyData),\r\n    delete: (id) => api.delete(`/properties/${id}/`),\r\n    uploadImages: (id, images) => {\r\n      const formData = new FormData();\r\n      Array.from(images).forEach((image) => {\r\n        formData.append('images', image);\r\n      });\r\n      return api.post(`/properties/${id}/images/`, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n    },\r\n    deleteImage: (propertyId, imageId) => \r\n      api.delete(`/properties/${propertyId}/images/${imageId}/`)\r\n  },\r\n\r\n  // Upcoming Properties\r\n  upcomingProperties: {\r\n    getAll: (params = {}) => api.get('/upcoming-properties/', { params }),\r\n    getById: (id) => api.get(`/upcoming-properties/${id}/`),\r\n    create: (propertyData) => api.post('/upcoming-properties/', propertyData),\r\n    update: (id, propertyData) => api.patch(`/upcoming-properties/${id}/`, propertyData),\r\n    delete: (id) => api.delete(`/upcoming-properties/${id}/`),\r\n    uploadImages: (id, images) => {\r\n      const formData = new FormData();\r\n      Array.from(images).forEach((image) => {\r\n        formData.append('images', image);\r\n      });\r\n      return api.post(`/upcoming-properties/${id}/images/`, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n    },\r\n    deleteImage: (propertyId, imageId) => \r\n      api.delete(`/upcoming-properties/${propertyId}/images/${imageId}/`)\r\n  },\r\n\r\n  // Future Developments\r\n  futureDevelopments: {\r\n    getAll: (params = {}) => api.get('/future-developments/', { params }),\r\n    getById: (id) => api.get(`/future-developments/${id}/`),\r\n    create: (developmentData) => api.post('/future-developments/', developmentData),\r\n    update: (id, developmentData) => api.patch(`/future-developments/${id}/`, developmentData),\r\n    delete: (id) => api.delete(`/future-developments/${id}/`),\r\n    uploadImages: (id, images) => {\r\n      const formData = new FormData();\r\n      Array.from(images).forEach((image) => {\r\n        formData.append('images', image);\r\n      });\r\n      return api.post(`/future-developments/${id}/images/`, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n    },\r\n    deleteImage: (developmentId, imageId) => \r\n      api.delete(`/future-developments/${developmentId}/images/${imageId}/`)\r\n  },\r\n\r\n  // Users\r\n  users: {\r\n    getAll: (params = {}) => api.get('/users/', { params }),\r\n    getById: (id) => api.get(`/users/${id}/`),\r\n    update: (id, userData) => api.patch(`/users/${id}/`, userData),\r\n    delete: (id) => api.delete(`/users/${id}/`),\r\n  }\r\n};\r\n\r\n// Add direct method aliases for easier access\r\nApiService.getProperties = ApiService.properties.getAll;\r\nApiService.getProperty = ApiService.properties.getById;\r\nApiService.createProperty = ApiService.properties.create;\r\nApiService.updateProperty = ApiService.properties.update;\r\nApiService.deleteProperty = ApiService.properties.delete;\r\nApiService.uploadPropertyImages = ApiService.properties.uploadImages;\r\nApiService.deletePropertyImage = ApiService.properties.deleteImage;\r\n\r\nexport default ApiService;","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../Api';\r\n\r\nconst UpcomingPropertyList = () => {\r\n  const [properties, setProperties] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchProperties = async () => {\r\n      try {\r\n        const response = await api.getUpcomingProperties();\r\n        \r\n        // Ensure we're working with an array\r\n        const propertiesData = Array.isArray(response.data) \r\n          ? response.data \r\n          : response.data?.results || response.data?.data || [];\r\n        \r\n        setProperties(propertiesData);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setError(err.message || 'Failed to load properties');\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProperties();\r\n  }, []);\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm('Are you sure you want to delete this upcoming property?')) {\r\n      try {\r\n        await api.deleteUpcomingProperty(id);\r\n        setProperties(properties.filter(property => property.id !== id));\r\n      } catch (err) {\r\n        setError(err.message || 'Failed to delete property');\r\n      }\r\n    }\r\n  };\r\n\r\n  if (loading) return <div className=\"p-4\">Loading...</div>;\r\n  if (error) return <div className=\"p-4 text-red-600\">Error: {error}</div>;\r\n  if (!properties.length) return <div className=\"p-4\">No upcoming properties found</div>;\r\n\r\n  return (\r\n    <div className=\"upcoming-properties-container\">\r\n      <div className=\"upcoming-properties-header\">\r\n        <h2 className=\"upcoming-properties-title\">Upcoming Properties</h2>\r\n        <Link \r\n          to=\"/admin/upcoming-properties/add\" \r\n          className=\"bg-yellow-500 text-gray-900 px-4 py-2 rounded hover:bg-yellow-600\"\r\n        >\r\n          Add New Upcoming Property\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"upcoming-properties-table\">\r\n        <table className=\"min-w-full bg-white shadow rounded-lg\">\r\n          <thead>\r\n            <tr className=\"bg-gray-800 text-white\">\r\n              <th className=\"py-3 px-4 text-left\">Location</th>\r\n              <th className=\"py-3 px-4 text-left\">Area (sq ft)</th>\r\n              <th className=\"py-3 px-4 text-left\">Completion Date</th>\r\n              <th className=\"py-3 px-4 text-left\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {properties.map(property => (\r\n              <tr key={property.id} className=\"border-b border-gray-200 hover:bg-gray-50\">\r\n                <td className=\"py-3 px-4\">{property.location}</td>\r\n                <td className=\"py-3 px-4\">{property.area}</td>\r\n                <td className=\"py-3 px-4\">\r\n                  {property.expected_completion \r\n                    ? new Date(property.expected_completion).toLocaleDateString() \r\n                    : 'N/A'}\r\n                </td>\r\n                <td className=\"py-3 px-4 space-x-2\">\r\n                  <Link \r\n                    to={`/admin/upcoming-properties/edit/${property.id}`}\r\n                    className=\"text-yellow-600 hover:underline\"\r\n                  >\r\n                    Edit\r\n                  </Link>\r\n                  <button \r\n                    onClick={() => handleDelete(property.id)}\r\n                    className=\"text-red-600 hover:underline\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpcomingPropertyList;"],"names":["API_BASE_URL","process","REACT_APP_API_URL","api","axios","create","baseURL","headers","timeout","interceptors","request","use","config","token","localStorage","getItem","Authorization","concat","error","Promise","reject","response","_error$response","status","removeItem","window","location","href","ApiService","auth","login","credentials","post","register","userData","refreshToken","refresh","logout","getMe","get","properties","getAll","params","arguments","length","undefined","getById","id","propertyData","update","patch","delete","uploadImages","images","formData","FormData","Array","from","forEach","image","append","deleteImage","propertyId","imageId","upcomingProperties","futureDevelopments","developmentData","developmentId","users","getProperties","getProperty","createProperty","updateProperty","deleteProperty","uploadPropertyImages","deletePropertyImage","UpcomingPropertyList","setProperties","useState","loading","setLoading","setError","useEffect","async","_response$data","_response$data2","getUpcomingProperties","propertiesData","isArray","data","results","err","message","fetchProperties","_jsx","className","children","_jsxs","Link","to","map","property","area","expected_completion","Date","toLocaleDateString","onClick","confirm","deleteUpcomingProperty","filter","handleDelete"],"sourceRoot":""}