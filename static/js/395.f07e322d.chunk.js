"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[395],{395:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var o=r(43),a=r(366),s=r(670),n=r(579);const c=()=>{const[e,t]=(0,o.useState)([]),[r,c]=(0,o.useState)(!0),[d,l]=(0,o.useState)(null);(0,o.useEffect)((()=>{(async()=>{try{const e=await s.A.futureDevelopments.getAll(),r=Array.isArray(e.data)?e.data:[];t(r),c(!1)}catch(e){l(e.message||"Failed to load future developments"),c(!1),t([])}})()}),[]);return r?(0,n.jsx)("div",{className:"loading-state",children:"Loading..."}):d?(0,n.jsx)("div",{className:"alert alert-error",children:d}):(0,n.jsxs)("div",{className:"future-dev-container",children:[(0,n.jsxs)("div",{className:"future-dev-header",children:[(0,n.jsx)("h1",{className:"future-dev-title",children:"Future Developments"}),(0,n.jsx)(a.N_,{to:"/admin/future-developments/add",className:"btn btn-primary",children:"Add New Development"})]}),(0,n.jsxs)("table",{className:"future-dev-table",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Title"}),(0,n.jsx)("th",{children:"Location"}),(0,n.jsx)("th",{children:"Start Date"}),(0,n.jsx)("th",{children:"Completion"}),(0,n.jsx)("th",{children:"Actions"})]})}),(0,n.jsx)("tbody",{children:e.length>0?e.map((r=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:r.title}),(0,n.jsx)("td",{children:r.location}),(0,n.jsx)("td",{children:new Date(r.expected_start).toLocaleDateString()}),(0,n.jsx)("td",{children:new Date(r.expected_completion).toLocaleDateString()}),(0,n.jsxs)("td",{children:[(0,n.jsx)(a.N_,{to:"/admin/future-developments/edit/".concat(r.id),className:"btn btn-secondary",children:"Edit"}),(0,n.jsx)("button",{onClick:()=>(async r=>{if(window.confirm("Are you sure you want to delete this future development?"))try{await s.A.futureDevelopments.delete(r),t(e.filter((e=>e.id!==r)))}catch(o){l(o.message||"Failed to delete development")}})(r.id),className:"btn btn-danger",children:"Delete"})]})]},r.id))):(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:"5",className:"text-center",children:"No developments found"})})})]})]})}},670:(e,t,r)=>{r.d(t,{A:()=>c});var o=r(722);const a={NODE_ENV:"production",PUBLIC_URL:"/GrahaGrand",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000/api",s=o.A.create({baseURL:a,headers:{"Content-Type":"application/json"},timeout:1e4});s.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e))),s.interceptors.response.use((e=>e),(e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)}));const n={auth:{login:e=>s.post("/auth/login/",e),register:e=>s.post("/auth/register/",e),refreshToken:e=>s.post("/auth/refresh/",{refresh:e}),logout:()=>s.post("/auth/logout/"),getMe:()=>s.get("/auth/me/")},properties:{getAll:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.get("/properties/",{params:e})},getById:e=>s.get("/properties/".concat(e,"/")),create:e=>s.post("/properties/",e),update:(e,t)=>s.patch("/properties/".concat(e,"/"),t),delete:e=>s.delete("/properties/".concat(e,"/")),uploadImages:(e,t)=>{const r=new FormData;return Array.from(t).forEach((e=>{r.append("images",e)})),s.post("/properties/".concat(e,"/images/"),r,{headers:{"Content-Type":"multipart/form-data"}})},deleteImage:(e,t)=>s.delete("/properties/".concat(e,"/images/").concat(t,"/"))},upcomingProperties:{getAll:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.get("/upcoming-properties/",{params:e})},getById:e=>s.get("/upcoming-properties/".concat(e,"/")),create:e=>s.post("/upcoming-properties/",e),update:(e,t)=>s.patch("/upcoming-properties/".concat(e,"/"),t),delete:e=>s.delete("/upcoming-properties/".concat(e,"/")),uploadImages:(e,t)=>{const r=new FormData;return Array.from(t).forEach((e=>{r.append("images",e)})),s.post("/upcoming-properties/".concat(e,"/images/"),r,{headers:{"Content-Type":"multipart/form-data"}})},deleteImage:(e,t)=>s.delete("/upcoming-properties/".concat(e,"/images/").concat(t,"/"))},futureDevelopments:{getAll:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.get("/future-developments/",{params:e})},getById:e=>s.get("/future-developments/".concat(e,"/")),create:e=>s.post("/future-developments/",e),update:(e,t)=>s.patch("/future-developments/".concat(e,"/"),t),delete:e=>s.delete("/future-developments/".concat(e,"/")),uploadImages:(e,t)=>{const r=new FormData;return Array.from(t).forEach((e=>{r.append("images",e)})),s.post("/future-developments/".concat(e,"/images/"),r,{headers:{"Content-Type":"multipart/form-data"}})},deleteImage:(e,t)=>s.delete("/future-developments/".concat(e,"/images/").concat(t,"/"))},users:{getAll:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.get("/users/",{params:e})},getById:e=>s.get("/users/".concat(e,"/")),update:(e,t)=>s.patch("/users/".concat(e,"/"),t),delete:e=>s.delete("/users/".concat(e,"/"))}};n.getProperties=n.properties.getAll,n.getProperty=n.properties.getById,n.createProperty=n.properties.create,n.updateProperty=n.properties.update,n.deleteProperty=n.properties.delete,n.uploadPropertyImages=n.properties.uploadImages,n.deletePropertyImage=n.properties.deleteImage;const c=n}}]);
//# sourceMappingURL=395.f07e322d.chunk.js.map